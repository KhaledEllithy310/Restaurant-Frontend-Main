<div class="container p-100">
  <div class="container_forms">
    <!-- Start Form Add Product -->
    <form
      [formGroup]="tableForm"
      (ngSubmit)="createProduct()"
      class="form_admin form__admin__special"
    >
      <div class="row">
        <div class="col">
          <div class="bgGreyLight_1 vertical_align_center">
            <h2 class="form_title">Add Product</h2>
            <div class="row">
              <!--Start productName  Input -->
              <div class="col-xl-6 inputs__container">
                <input
                  type="text"
                  class="input__form"
                  formControlName="productName"
                  placeholder="Product Name"
                  [(ngModel)]="productName"
                />
                <!-- Start Validation For productName  -->

                <div
                  *ngIf="
                    product_Name_Control.invalid && product_Name_Control.touched
                  "
                  class="text-danger"
                >
                  <div *ngIf="product_Name_Control.errors?.['required']">
                    <p class="alert alert-danger">TableNo is required</p>
                  </div>
                  <div *ngIf="product_Name_Control.errors?.['minlength']">
                    <p class="alert alert-danger">
                      Name must be at least
                      {{ product_Name_Control.errors?.['minlength'].requiredLength }}
                      characters long
                    </p>
                  </div>
                </div>
                <!-- End Validation For productName -->
              </div>
              <!--End productName Input -->

              <!--Start productDiscount  Input -->
              <div class="col-xl-6 inputs__container">
                <input
                  type="number"
                  class="input__form"
                  name="productDiscount"
                  placeholder="product Discount"
                  [(ngModel)]="productDiscount"
                  formControlName="productDiscount"
                />
              </div>
              <!--End productDiscount  Input -->
              <!--Start Upload Image Input -->
              <div class="col-xl-6 inputs__container">
                <label for="" class="px-2">Upload Image</label>
                <input
                  #addfileInput
                  type="file"
                  class="input__form"
                  name="image"
                  formControlName="image"
                />
              </div>
              <!--End Upload Image Input -->

              <!--Start category_id  Input -->
              <div class="col-xl-6 inputs__container">
                <label for="" class="px-2">Category Name</label>
                <select
                  name="category_id"
                  [(ngModel)]="category_id"
                  class="input__form"
                  formControlName="category_id"
                >
                  <option value="2">2</option>
                  <option
                    *ngFor="let category of categories"
                    value="{{ category._id }}"
                  >
                    {{ category.name }}
                  </option>
                </select>
              </div>
              <!--End category_id  Input -->

              <!--Start productDescription  Input -->
              <div class="col-xl-6 inputs__container">
                <textarea
                  class="input__form"
                  name=""
                  placeholder="product Description"
                  formControlName="productDescription"
                  id=""
                  cols="30"
                  rows="3"
                ></textarea>
                <!-- Start Validation For productDescription -->
                <div
                  *ngIf="
                    product_Description_Control.invalid &&
                    product_Description_Control.touched
                  "
                  class="text-danger"
                >
                  <div *ngIf="product_Description_Control.errors?.['required']">
                    <p class="alert alert-danger">guest numbers is required</p>
                  </div>
                  <div
                    *ngIf="product_Description_Control.errors?.['minlength']"
                  >
                    <p class="alert alert-danger">
                      Name must be at least
                      {{ product_Description_Control.errors?.['minlength'].requiredLength }}
                      characters long
                    </p>
                  </div>
                </div>
                <!-- End Validation For productDescription -->
              </div>
              <!--End productDescription  Input -->

              <!--Start Status Input -->
              <div class="col-xl-6 inputs__container">
                <div class="align-items-center status_input">
                  <label>Status</label>
                  <div class="switch">
                    <div class="switch__2">
                      <input
                        id="switch-2T2"
                        type="checkbox"
                        formControlName="status"
                      />
                      <label for="switch-2T2"></label>
                    </div>
                    <div>{{ statusText }}</div>
                  </div>
                </div>
              </div>
              <!--End Status Input -->
            </div>
          </div>

          <div class="btn_container">
            <div class="ntn_add_form">
              <button
                type="submit"
                class="admin__main__btn__form"
                [disabled]="!tableForm.valid"
                (click)="createProduct1()"
              >
                Add Product
              </button>
            </div>
            <div class="btn_extra_form">
              <button
                type="submit"
                class="admin__main__btn__form"
                (click)="showIngredientsForm = true"
              >
                <!-- <i class="fa-solid fa-circle-plus"></i> -->
                Add Ingredient
              </button>
              <button
                type="submit"
                class="admin__main__btn__form"
                (click)="showExtraForm = true"
              >
                <!-- <i class="fa-solid fa-circle-plus"></i> -->
                Add Extra
              </button>
            </div>
          </div>
        </div>
        <div
          class="col-4 container__Ingredients__Extra"
          *ngIf="!isIngredientsListEmpty || !isExtraListEmpty"
        >
          <div class="row">
            <div class="col-12 container__Ingredients">
              <h4>Ingredients</h4>
              <div class="list__Ingredients">
                <li *ngFor="let ingredient of IngredientsList">
                  <span>{{ ingredient.name }}</span>
                  <span>{{ ingredient.Quantity }}kg</span>
                  <span class="list__Ingredients__price"
                    >${{ ingredient.Price }}</span
                  >
                </li>
              </div>
            </div>
            <div class="col-12 container__Extra">
              <h4>Extra</h4>
              <div class="list__Ingredients">
                <li *ngFor="let Extra of ExtraProducts">
                  <span>{{ Extra.name }}</span>
                  <span>{{ Extra.Quantity }}kg</span>
                  <span class="list__Ingredients__price"
                    >${{ Extra.Price }}</span
                  >
                </li>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
    <!-- End Form Add Product -->

    <!-- Start Form Add Ingredients -->
    <form
      [formGroup]="ingredientsForm"
      (ngSubmit)="addIngredientsForProduct()"
      class="form_admin"
      *ngIf="showIngredientsForm"
    >
      <div class="vertical_align_center">
        <h2 class="form_title">Add Ingredient</h2>
        <div class="row">
          <!--Start Ingredient Name  Input -->
          <div class="col-xl-6 inputs__container">
            <label for="" class="px-2">Ingredient Name</label>
            <select
              name="category_id"
              [(ngModel)]="category_id"
              class="input__form"
              formControlName="Ingredient_id"
              (change)="selectedIngredient($event)"
            >
              <option
                *ngFor="let ingredient of ingredients"
                value="{{ ingredient.id }}"
              >
                {{ ingredient.name }}
              </option>
            </select>
          </div>
          <!--End Ingredient Name  Input -->

          <!--Start Ingredient Quantity  Input -->
          <div class="col-xl-6 inputs__container">
            <label for="" class="px-2">Ingredient Quantity</label>
            <input
              type="number"
              class="input__form"
              formControlName="Ingredient_Quantity"
              placeholder=""
              [(ngModel)]="productName"
            />
            <!-- Start Validation For Ingredient Quantity  -->

            <div
              *ngIf="
                product_Name_Control.invalid && product_Name_Control.touched
              "
              class="text-danger"
            >
              <div *ngIf="product_Name_Control.errors?.['required']">
                <p class="alert alert-danger">TableNo is required</p>
              </div>
              <div *ngIf="product_Name_Control.errors?.['minlength']">
                <p class="alert alert-danger">
                  Name must be at least
                  {{ product_Name_Control.errors?.['minlength'].requiredLength }}
                  characters long
                </p>
              </div>
            </div>
            <!-- End Validation For Ingredient Quantity -->
          </div>
          <!--End Ingredient Quantity Input -->

          <!--Start Ingredient Price  Input -->
          <!-- <div class="col-xl-6 inputs__container">
            <label for="" class="px-2">Ingredient Price</label>
            <input
              id="ingredientPrice"
              type="number"
              class="input__form"
              name="Ingredient_Price"
              formControlName="Ingredient_Price"
              [disabled]="isDisabled"
            />
          </div> -->
          <!--End Ingredient Price  Input -->

          <!--Start Ingredient profit Input -->
          <!-- <div class="col-xl-6 inputs__container">
            <label for="" class="px-2">Ingredient profit</label>
            <input
              id="ingredientProfit"
              type="number"
              class="input__form"
              name="Ingredient_profit"
              formControlName="Ingredient_profit"
              disabled
            />
          </div> -->
          <!--End Ingredient profit Input -->
        </div>
      </div>
      <button type="submit" class="admin__main__btn__form">
        Add Ingredients
      </button>
    </form>
    <!-- End Form Add Ingredients -->

    <!-- Start Form Add Extra -->
    <form
      [formGroup]="ExtraForm"
      (ngSubmit)="addExtraForProduct()"
      class="form_admin"
      *ngIf="showExtraForm"
    >
      <div class="vertical_align_center">
        <h2 class="form_title">Add Extra</h2>
        <div class="row">
          <!--Start Ingredient Name  Input -->
          <div class="col-xl-6 inputs__container">
            <label for="" class="px-2">Extra Name</label>
            <select
              name="category_id"
              [(ngModel)]="category_id"
              class="input__form"
              formControlName="Ingredient_id"
              (change)="selectedIngredient($event)"
            >
              <option
                *ngFor="let ingredient of ingredients"
                value="{{ ingredient.id }}"
              >
                {{ ingredient.name }}
              </option>
            </select>
          </div>
          <!--End Ingredient Name  Input -->

          <!--Start Ingredient Quantity  Input -->
          <div class="col-xl-6 inputs__container">
            <label for="" class="px-2">Extra Quantity</label>
            <input
              type="number"
              class="input__form"
              formControlName="Ingredient_Quantity"
              placeholder=""
              [(ngModel)]="productName"
            />
            <!-- Start Validation For Ingredient Quantity  -->

            <div
              *ngIf="
                product_Name_Control.invalid && product_Name_Control.touched
              "
              class="text-danger"
            >
              <div *ngIf="product_Name_Control.errors?.['required']">
                <p class="alert alert-danger">TableNo is required</p>
              </div>
              <div *ngIf="product_Name_Control.errors?.['minlength']">
                <p class="alert alert-danger">
                  Name must be at least
                  {{ product_Name_Control.errors?.['minlength'].requiredLength }}
                  characters long
                </p>
              </div>
            </div>
            <!-- End Validation For Ingredient Quantity -->
          </div>
          <!--End Ingredient Quantity Input -->

          <!--Start Ingredient Price  Input -->
          <!-- <div class="col-xl-6 inputs__container">
            <label for="" class="px-2">Extra Price</label>
            <input
              id="ingredientPrice"
              type="number"
              class="input__form"
              name="Ingredient_Price"
              formControlName="Ingredient_Price"
            />
          </div> -->
          <!--End Ingredient Price  Input -->

          <!--Start Ingredient profit Input -->
          <!-- <div class="col-xl-6 inputs__container">
            <label for="" class="px-2">Extra profit</label>
            <input
              id="ingredientProfit"
              type="number"
              class="input__form"
              name="Ingredient_profit"
              formControlName="Ingredient_profit"
            />
          </div> -->
          <!--End Ingredient profit Input -->
        </div>
      </div>
      <button type="submit" class="admin__main__btn__form">Add Extra</button>
    </form>
    <!-- End Form Add Ingredients -->
  </div>
</div>
